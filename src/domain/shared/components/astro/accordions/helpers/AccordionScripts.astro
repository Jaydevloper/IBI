---
const { id } = Astro.props;
---

<script is:inline defer define:vars={{ id }}>
  function initAccordion() {
    const btn = document.querySelectorAll(
      `[data-accardion='default-accardion-${id}']`
    );
    const content = document.querySelector(
      `[data-accardion='default-accardion-content-${id}']`
    );
    btn.forEach((button) => {
      button?.addEventListener("click", (e) => {
        document.querySelectorAll("[data-accardion]").forEach((otherBtn) => {
          if (otherBtn !== button && otherBtn !== content) {
            otherBtn.classList.remove("open");
          }
        });
        button?.classList.toggle("open");
        content?.classList.toggle("open");
      });
    });
  }
  initAccordion();
  document.removeEventListener("astro:after-swap", initAccordion);
</script>
